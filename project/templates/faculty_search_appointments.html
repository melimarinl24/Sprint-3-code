{% extends "layout.html" %}
{% block content %}
<main class="container" style="max-width:820px;margin:40px auto;padding:18px;">
  <h1>Search Appointments</h1>

  <form method="POST" style="margin-bottom:20px;">
    <input type="text" name="search_term" placeholder="Enter student name, exam name, or exam ID" required>
    <button type="submit">Search</button>
  </form>

  {% if results %}
    <table border="1" cellpadding="6" cellspacing="0" width="100%">
      <tr>
        <th>Exam</th>
        <th>Date</th>
        <th>Location</th>
        <th>Status</th>
        <th>Student</th>
      </tr>
      {% for row in results %}
        <tr>
          <td>{{ row.exam_name }}</td>
          <td>{{ row.exam_date }}</td>
          <td>{{ row.exam_location }}</td>
          <td>{{ row.status }}</td>
          <td>{{ row.first_name }} {{ row.last_name }}</td>
        </tr>
      {% endfor %}
    </table>
  {% elif request.method == 'POST' %}
    <p>No appointments found matching your search.</p>
  {% endif %}
</main>
{% endblock %}
